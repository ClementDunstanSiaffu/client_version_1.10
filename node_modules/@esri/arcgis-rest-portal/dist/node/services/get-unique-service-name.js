"use strict";
/* Copyright (c) 2018-2020 Environmental Systems Research Institute, Inc.
 * Apache-2.0 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.getUniqueServiceName = void 0;
var is_service_name_available_1 = require("./is-service-name-available");
/**
 * Given a starting name, return a service name that is unqieu within
 * the current users organization
 *
 * @export
 * @param {string} name
 * @param {UserSession} session
 * @param {number} step
 * @return {*}  {Promise<string>}
 */
function getUniqueServiceName(name, type, session, step) {
    var nameToCheck = name;
    if (step) {
        nameToCheck = name + "_" + step;
    }
    return is_service_name_available_1.isServiceNameAvailable(nameToCheck, type, session).then(function (response) {
        if (response.available) {
            return nameToCheck;
        }
        else {
            step = step + 1;
            return getUniqueServiceName(name, type, session, step);
        }
    });
}
exports.getUniqueServiceName = getUniqueServiceName;
//# sourceMappingURL=get-unique-service-name.js.map