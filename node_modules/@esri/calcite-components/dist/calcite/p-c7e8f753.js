/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.0-beta.86
 */
import{f as t,h as e}from"./p-e2a9bc3c.js";import{a as o}from"./p-bc9c9c9b.js";import{S as n}from"./p-038a1a34.js";import{S as a}from"./p-741a874b.js";const c=150,i=({actionCount:t,actionHeight:e,height:o,groupCount:n})=>Math.max(t-(({height:t,actionHeight:e,groupCount:o})=>Math.floor((t-2*o)/e))({height:o,actionHeight:e,groupCount:n}),0),l=t=>Array.from(t.querySelectorAll("calcite-action")).filter((t=>!t.closest("calcite-action-menu")||t.slot===n.trigger)),r=({actionGroups:e,expanded:o,overflowCount:n})=>{let c=n;e.reverse().forEach((e=>{let n=0;const i=l(e).reverse();i.forEach((t=>{t.slot===a.menuActions&&(t.removeAttribute("slot"),t.textEnabled=o)})),c>0&&i.some((t=>(i.filter((t=>!t.slot)).length>1&&i.length>2&&!t.closest("calcite-action-menu")&&(t.textEnabled=!0,t.setAttribute("slot",a.menuActions),n++,n>1&&c--),c<1))),t(e)}))};function s({parent:t,expanded:e}){l(t).filter((t=>t.slot!==a.menuActions)).forEach((t=>t.textEnabled=e)),t.querySelectorAll("calcite-action-group, calcite-action-menu").forEach((t=>t.expanded=e))}const p=({expanded:t,intlExpand:n,intlCollapse:a,toggle:c,el:i,position:l,tooltip:r,ref:s,scale:p})=>{const u="rtl"===o(i),d=t?a:n,f=["chevrons-left","chevrons-right"];u&&f.reverse();const h="end"===function(t,e){var o;return t||(null===(o=e.closest("calcite-shell-panel"))||void 0===o?void 0:o.position)||"start"}(l,i);return e("calcite-action",{icon:t?h?f[1]:f[0]:h?f[0]:f[1],onClick:c,ref:e=>(({tooltip:t,referenceElement:e,expanded:o,ref:n})=>(t&&(t.referenceElement=!o&&e?e:null),n&&n(e),e))({tooltip:r,referenceElement:e,expanded:t,ref:s}),scale:p,text:d,textEnabled:t})};export{p as E,r as a,i as g,c as o,l as q,s as t}