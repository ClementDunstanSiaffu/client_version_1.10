var __assign=this&&this.__assign||function(){__assign=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}return e};return __assign.apply(this,arguments)};var __awaiter=this&&this.__awaiter||function(e,t,i,n){function r(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,a){function s(e){try{o(n.next(e))}catch(e){a(e)}}function l(e){try{o(n["throw"](e))}catch(e){a(e)}}function o(e){e.done?i(e.value):r(e.value).then(s,l)}o((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,r,a,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(e){return function(t){return o([e,t])}}function o(s){if(n)throw new TypeError("Generator is already executing.");while(i)try{if(n=1,r&&(a=s[0]&2?r["return"]:s[0]?r["throw"]||((a=r["return"])&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;if(r=0,a)s=[s[0]&2,a.value];switch(s[0]){case 0:case 1:a=s;break;case 4:i.label++;return{value:s[1],done:false};case 5:i.label++;r=s[1];s=[0];continue;case 7:s=i.ops.pop();i.trys.pop();continue;default:if(!(a=i.trys,a=a.length>0&&a[a.length-1])&&(s[0]===6||s[0]===2)){i=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(s[0]===6&&i.label<a[1]){i.label=a[1];a=s;break}if(a&&i.label<a[2]){i.label=a[2];i.ops.push(s);break}if(a[2])i.ops.pop();i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e];r=0}finally{n=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var __rest=this&&this.__rest||function(e,t){var i={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0)i[n]=e[n];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++){if(t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r]))i[n[r]]=e[n[r]]}return i};
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.0-beta.86
 */System.register(["./p-4c62aae1.system.js","./p-9191aae7.system.js","./p-64abac3a.system.js","./p-8d7bcbbe.system.js"],(function(e){"use strict";var t,i,n,r,a,s,l;return{setters:[function(e){t=e.f;i=e.g;n=e.t},function(e){r=e.g},function(e){a=e.d},function(e){s=e.h;l=e.H}],execute:function(){e({I:void 0,a:k,b:L,c:_,d:V,e:h,f:m,g:E,h:P,i:v,j:y,k:w,l:p,m:f,n:b,o:C,p:A,r:S,s:F});var o=e("t",{heading:"heading",container:"container",indented:"container--indented"});var c=e("q",{parentItem:"parent-item"});var u=e("H",3);function f(){this.setUpItems();this.setUpFilter();this.deselectRemovedItems()}var d=["ArrowUp","ArrowDown"];function v(){this.setUpItems();this.setUpFilter();this.emitCalciteListChange=a(I.bind(this),0)}function h(){var e;(e=this.mutationObserver)===null||e===void 0?void 0:e.observe(this.el,{childList:true,subtree:true})}function m(){var e;(e=this.mutationObserver)===null||e===void 0?void 0:e.disconnect()}function p(e){var i=this.selectedValues;var n=e.detail,r=n.item,a=n.value,s=n.selected,l=n.shiftPressed;if(s){if(this.multiple&&l){this.selectSiblings(r)}if(!this.multiple){this.deselectSiblingItems(r)}i.set(a,r)}else{i.delete(a);if(this.multiple&&l){this.selectSiblings(r,true)}}if(!this.multiple){O(r,s);if(s){t(r)}}this.lastSelectedItem=r;this.emitCalciteListChange()}function b(e){var t=e.detail.oldValue;var i=this.selectedValues;if(i.has(t)){var n=i.get(t);i.delete(t);i.set(e.detail.newValue,n)}e.stopPropagation()}function g(e){return!!d.find((function(t){return t===e}))}function y(e){var t=this,i=t.el,n=t.items,r=t.multiple,a=t.selectedValues;if(r){return}var s=i.contains(e.relatedTarget);if(s){return}x(n).forEach((function(t){O(t,a.size===0?t.contains(e.target)||e.target===t:t.selected)}))}function w(e){var i=e.key,n=e.target;if(!g(i)){return}var r=this,a=r.items,s=r.multiple,l=r.selectionFollowsFocus;var o=a.length;var c=a.indexOf(n);if(!o||c===-1){return}e.preventDefault();var u=_(this,n,i==="ArrowUp"?"up":"down");var f=a[u];a.forEach((function(e){return O(e,e===f)}));if(!s&&l){f.selected=true}t(f)}function _(e,t,i){var n=e.items;var a=n.length;var s=n.indexOf(t);var l=i==="up"?-1:1;var o=1;var c=r(s+l*o++,a);var u=c;while(n[c].disabled){c=r(s+l*o++,a);if(c===u){break}}return c}function E(e,t){var i=e.items;return i.indexOf(t)}function x(e){return e.filter((function(e){return!e.disabled}))}function I(){this.calciteListChange.emit(this.selectedValues)}function S(e){if(e.defaultPrevented){return}var t=e.target;var i=this.selectedValues;if(t.parentElement.tagName==="CALCITE-PICK-LIST-GROUP"&&t.slot===c.parentItem){t.parentElement.remove();Array.from(t.parentElement.children).forEach((function(e){return i.delete(e.value)}))}else{t.remove();i.delete(t.value)}this.emitCalciteListChange()}function O(e,t){if(e.disabled){return}if(t){e.removeAttribute("tabindex")}else{e.setAttribute("tabindex","-1")}}function A(e){return __awaiter(this,void 0,void 0,(function(){var i,n,r,a,s,l,o;return __generator(this,(function(c){switch(c.label){case 0:if(!(this.filterEnabled&&e==="filter"))return[3,2];return[4,t(this.filterEl)];case 1:c.sent();return[2];case 2:n=this,r=n.items,a=n.multiple,s=n.selectionFollowsFocus;if(r.length===0){return[2]}if(a){return[2,(i=x(r)[0])===null||i===void 0?void 0:i.setFocus()]}l=x(r);o=l.find((function(e){return e.selected}))||l[0];if(s&&o){o.selected=true}return[2,o.setFocus()]}}))}))}function C(e){var t=this;this.items=Array.from(this.el.querySelectorAll(e));var i=false;var n=this.items;n.forEach((function(e){e.icon=t.getIconType();if(!t.multiple){e.disableDeselect=true;O(e,false)}if(e.selected){i=true;O(e,true);t.selectedValues.set(e.value,e)}}));var r=n[0];if(!i&&r&&!r.disabled){O(r,true)}}function V(){var e=this;var t=this.selectedValues;var i=this.items.map((function(e){var t=e.value;return t}));t.forEach((function(t){if(!i.includes(t.value)){e.selectedValues.delete(t.value)}}))}function k(e){var t=this;this.items.forEach((function(i){if(i.value!==e.value){i.toggleSelected(false);if(t.selectedValues.has(i.value)){t.selectedValues.delete(i.value)}}}))}function F(e,t){var i=this;if(t===void 0){t=false}if(!this.lastSelectedItem){return}var n=this.items;var r=n.findIndex((function(e){return e.value===i.lastSelectedItem.value}));var a=n.findIndex((function(t){return t.value===e.value}));n.slice(Math.min(r,a),Math.max(r,a)).forEach((function(e){e.toggleSelected(!t);if(!t){i.selectedValues.set(e.value,e)}else{i.selectedValues.delete(e.value)}}))}var j;function P(e){var t=e.currentTarget.filteredItems;var n=t.map((function(e){return e.value}));var r=false;if(!j){j=new Set}var a=this.items.filter((function(e){var t=e.parentElement;var i=t.matches("calcite-pick-list-group");if(i){j.add(t)}var a=n.includes(e.value);e.hidden=!a;if(!r){r=a&&e.selected}return a}));j.forEach((function(e){var t=a.some((function(t){return e.contains(t)}));e.hidden=!t;if(!t){return}var n=i(e,"parent-item");if(n){n.hidden=false;if(a.includes(n)){Array.from(e.children).forEach((function(e){return e.hidden=false}))}}}));j.clear();if(a.length>0&&!r&&!this.multiple){O(a[0],true)}}function L(){return this.items.map((function(e){return{label:e.label,description:e.description,metadata:e.metadata,value:e.value}}))}var T={sticky:"sticky-pos"};var U;(function(e){e["circle"]="circle";e["square"]="square";e["grip"]="grip"})(U||(U=e("I",{})));var q={menuActions:"menu-actions"};var D=e("L",(function(e){var t;var i=e.props,r=i.disabled,a=i.loading,o=i.filterEnabled,c=i.dataForFilter,u=i.handleFilter,f=i.filterPlaceholder,d=i.setFilterEl,v=i.dragEnabled,h=i.storeAssistiveEl,m=__rest(e,["props"]);var p=s("slot",null);return s(l,__assign({"aria-busy":n(a),role:"menu"},m),s("section",null,v?s("span",{"aria-live":"assertive",class:"assistive-text",ref:h}):null,s("header",{class:(t={},t[T.sticky]=true,t)},o?s("calcite-filter",{"aria-label":f,disabled:a||r,items:c,onCalciteFilterChange:u,placeholder:f,ref:d}):null,s("slot",{name:q.menuActions})),a?s("calcite-scrim",{loading:a}):null,p))}));var R=e("C",{actions:"actions",actionsEnd:"actions--end",actionsStart:"actions--start",description:"description",handle:"handle",handleActivated:"handle--activated",highlight:"highlight",icon:"icon",iconDot:"icon-dot",label:"label",remove:"remove",title:"title",textContainer:"text-container"});var G=e("u",{checked:"check",remove:"x"});var H=e("S",{actionsEnd:"actions-end",actionsStart:"actions-start"});var M=e("T",{remove:"Remove"})}}}));